webpackJsonp([4],{10:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.dialogShow,expression:"dialogShow"}],staticClass:"dialog-wrap"},[s("div",{staticClass:"dialog-cover"},[s("transition",{attrs:{name:"dialog"}},[s("div",{staticClass:"dialog-content"},[s("div",{staticClass:"dialog-body"},[s("span",{attrs:{name:"body"},domProps:{innerHTML:t._s(t.dialogText)}})]),t._v(" "),s("div",{staticClass:"dialog-footer"},[s("a",{staticClass:"cancel pull-left",attrs:{href:"javascript:void(0)"},on:{click:t.close}},[t._v(t._s(t.cancelButtonText))]),t._v(" "),s("a",{staticClass:"sure pull-right",attrs:{href:"javascript:void(0)"},on:{click:t.ok}},[t._v(t._s(t.confirmButtonText))])])])])],1)])},staticRenderFns:[]}},11:function(t,e){},14:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{dialogShow:{type:Boolean,default:!1},cancelButtonText:{type:String,default:"取消"},confirmButtonText:{type:String,default:"确定"},dialogText:{type:String,default:""},dialogClickOk:{type:Function,default:function(){alert("ok")}},dialogClickClose:{type:Function,default:function(){alert("close")}}},methods:{ok:function(){"function"==typeof this.dialogClickOk?this.dialogClickOk():alert("dialogClickOk 必须是函数")},close:function(){"function"==typeof this.dialogClickClose?this.dialogClickClose():alert("dialogClickClose 必须是函数")}}}},149:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(4),i=s.n(a),n=s(9),o=s.n(n);e.default={mounted:function(){this.initPage()},components:{MyMask:i.a,MyDialog:o.a},data:function(){return{title:"退款申请",headerShow:!1,type:"",reason:"",money:"",desc:"",orderRefundImgs:[],isShowRefundImgs:!1,showBottom:!1,showRefundExpCo:!1,showTips:!1,date:1,dialogShow:!1,dialogText:"确定撤销退款申请吗",dialogOkFun:function(){},dialogCloseFun:function(){},maskShow:!1,maskContent:"",allDisplayBtns:getQueryString("allDisplayBtns"),isAfterSale:parseInt(getQueryString("isAfterSale")),orderId:getQueryString("orderId"),appId:getQueryString("shopId"),refundExpCo:unescape(getQueryString("RefundExpCo")),refundExpNo:unescape(getQueryString("RefundExpNo"))}},methods:{initPage:function(){saveContextDTOByUrl(),isWeiXin()||"share"!=sessionStorage.source&&"share"!=getQueryString("source")||(this.headerShow=!0),this.loadData()},loadData:function(){var t=1==this.isAfterSale?"/mobile/GetOrderRefundAfterSales":"/mobile/GetOrderRefund";this.$http({url:t,method:"GET",params:{orderId:getQueryString("orderId"),userId:getUserId(),sessionId:getSessionId()},before:function(){this.maskShow=!0,this.maskContent="加载中。。。"}}).then(function(t){this.maskShow=!1,t.data?this.initData(t.data):toast("未获取到退款/退货信息！")},function(t){this.maskShow=!1,toast("获取数据失败！")})},initData:function(t){if(1==t.RefundType?(this.type="退款/退货",this.title="退款 / 退货申请",document.title="退款/退货申请"):0==t.RefundType&&(this.type="仅退款",this.title="退款申请",document.title="退款申请"),this.reason=t.RefundReason,this.money=(parseFloat(t.RefundMoney)+parseFloat(t.RefundScoreMoney)).toFixed(2),this.desc=t.RefundDesc,JsVilaDataNull(t.OrderRefundImgs)){this.orderRefundImgs=t.OrderRefundImgs.split(",");for(var e=0;e<this.orderRefundImgs.length;e++)this.orderRefundImgs[e]||this.orderRefundImgs.splice(e,1);this.orderRefundImgs.length&&(this.isShowRefundImgs=!0)}if(t.RefuseTime){var s=dateFormat(new Date),a=dateFormat(new Date(parseInt(t.RefuseTime.replace("/Date(","").replace(")/",""),10)));this.date=(new Date(s)-new Date(a))/864e5+1}var i=","+this.allDisplayBtns+",";JsVilaDataNull(i)&&(this.showBottom=i.indexOf(",24,")>-1||i.indexOf(",26,")>-1||i.indexOf(",30,")>-1||i.indexOf(",32,")>-1,this.showTips=i.indexOf(",26,")>-1||i.indexOf(",32,")>-1,this.showRefundExpCo=i.indexOf(",27,")>-1||i.indexOf(",33,")>-1)},cancelOrderRefund:function(){this.$http({url:"/Mobile/CancelOrderRefund/",method:"POST",params:{orderId:getQueryString("orderId"),state:9},before:function(){this.maskShow=!0,this.maskContent="正在提交申请..."}}).then(function(t){this.maskShow=!1,0==t.data.ResultCode?(toast("操作成功！"),window.location.href=document.referrer):toast("不好意思，操作失败，请您重试！")},function(t){this.maskShow=!1,toast("服务器繁忙，请稍候再试！")})},goPage:function(t){var e="";switch(t){case"logistics":var s=document.location.href;e="/ExpressRoute/Index?shipExpCo="+this.refundExpCo+"&expOrderNo="+this.refundExpNo+"&backUrl="+encodeURIComponent(s);break;case"refundType":e="/Mobile/RefundType?shopId="+this.appId+"&orderId="+this.orderId+"&isAfterSale="+this.isAfterSale}window.location.href=urlAppendCommonParams(e)},openDialog:function(){this.dialogShow=!0;var t=this;this.dialogOkFun=function(){t.dialogShow=!1,t.cancelOrderRefund()},this.dialogCloseFun=function(){t.dialogShow=!1}}}}},15:function(t,e){},156:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(2),i=s(1),n=s(55),o=s.n(n);a.a.use(i.a),new a.a({el:"#app",template:"<App/>",components:{App:o.a}})},3:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE0AAABNCAYAAADjCemwAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdDNjlDNDg2OERGNjExRTZBNUZEOTcyQzQ4OTk3QUFCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdDNjlDNDg3OERGNjExRTZBNUZEOTcyQzQ4OTk3QUFCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N0M2OUM0ODQ4REY2MTFFNkE1RkQ5NzJDNDg5OTdBQUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6N0M2OUM0ODU4REY2MTFFNkE1RkQ5NzJDNDg5OTdBQUIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7C3eXcAAAE4ElEQVR42uyc32tcRRTHz5m7v9qmscUqFoo+qIEYxR+1NS3+B/qmrSFiJdIWFRXUN5/0xWcRbP3VmChtaNVH8S8wTaxIFaxNoOBDUZRisrhZzN4f43fm7qazt95oUO9e956TnJl7Z3Y3u5+cc+bMj4S11iSyMVGCQKAJNIEm0ASaiEATaAJNoAk0EYEm0ASaQBNoIgLtv5RSlj+MmTf8nF27hui6wZ0UBiukyUNLhJrJvpKm51GOMOunNW4uLpzrP2j/sjwCcm+2fx0rIPiyuOe6og+g+GTtjuglYvWqQEt38gNwzjNdCHX0g2L6vC9j2j8zLnwzHUQsO92FkPiS1moUMe2KWFo3L4NnLAkMcgm6F+PLlSzfT+6hwfWMNY2R4pkOvrYs4nYP6l/7OuVwxVMeeV4ZnzuyThYDYce24mvPK40xhzOJPe1FJr0PTUtXn1MAaDduu4Fu2jlMK34DH1tBY3gxHG2SOnMxDj3p+6vuUxdgefvIAuvN6YCeQTOJrlIK6rWhcRLaE7j4UEcmmV2DcxE6iv56YWYE3bEKjhmFVtnm+F2WdgjQpmO4uIvw2JAuoPsBNDXYeQ3MBuI6Q6vLX8rBfAjldOc2AjDP4wuVCtIKTQ1yI5+FFoNmr5DQjK3oJ3Ex5SYbfsDfDWytje7Y4TV8Px8nnHKTcsBaJgBuKtH8LaxpL5LXRmFXOf7cviyyCVxMJhLab+B6+xGzmuZO6068E0szMewplJOJ1vOI7/tRN/OYcPcMWhAGZmQ8jFB+IuGo51HEwHJ6SDNT9xzcev1a8l8d2H6kFQXvcrfPfQ01iWsrz1O7TKHdcvNIbNsRHQ2i4J0WMn1nNRfATKavcw0sc2gt/3djac/A0o51ZgVt+Qr6YJqF5e0sddYx7fUOMEc+g5rVitX0sUIGgvTkQ8dbJtqGPWXmT+RpRdUq58raMoVWqdRegT5XLlfd5oegZhup+n+xtExj2tLyz6Z6S7EXbd48cMyxnvthVl9AkWpwS2KaI5cvL1j98aeF48TqWcBzu3fDpM6CTyXvo2dPYhpbWOo4KzuSunIfdA5aE2jXQGvPOEm/DWZHE933oncWukmgpS5v0HsojyTBEetZdNbyOJXKQcphqbyPVONwov0exL05JCGblGIqldgsRqaosnVfjp5/ge5EvA5JzgSe7+ZSNO/7/miz6TXDUK+f5xUNWpvcpMXmrK15Jbqrvrw6v7xkNlRoxU3ezGTfPNgrheT7lSK55zUG8wHKiW7v5TvBaA4DyBYziCTVHk7IMAHuiaWZD4qZAeqIAnyxUnR1w9heTen49MaUb1dCYnAovkQbLI5/Mw9iZ8bQ99DMtl29/ouFFIVRBwolNn+nATes1bZ8BKqdacEdeNw8xWtuPdv75Cz/hn2jJyEVcuDbb9szzlQ+qXXgdn1vwOHV6iamKS+kICjT4uJsQWOa++ZUieDBp5TWj+tu3sPQs9DBgi8NpVimPaGgT6EcT3QP63h1ZJtAS8/jZpBgjCWah9BmYtx2gZaejpxG8VgipR1irc4hNO8WaOlyBnZ3sGs01nwr6eBhgbaeq2r6GNWjTssbyANeK+Y06u+7qZFPEehewCgxgusXszxqxfK/hgringJNoAk0EYEm0ASaQBNoIgJNoAk0gSbQRASaQOuR/CHAAL+uiRS8t4WLAAAAAElFTkSuQmCC"},4:function(t,e,s){function a(t){s(6)}var i=s(0)(s(7),s(5),a,"data-v-5f95db9a",null);t.exports=i.exports},5:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"mask"},[s("div",{staticClass:"ui-loading-block"},[s("div",{staticClass:"ui-loading-cnt"},[s("i",{staticClass:"fa fa-spinner fa-spin fa-2x"}),t._v(" "),s("p",{domProps:{textContent:t._s(t.content)}})])])])},staticRenderFns:[]}},55:function(t,e,s){function a(t){s(90)}var i=s(0)(s(149),s(75),a,"data-v-1fe9786a",null);t.exports=i.exports},6:function(t,e){},7:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{show:{type:Boolean,default:!1},content:{type:String,default:"努力加载中"}},data:function(){return{}}}},75:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page"},[t.headerShow?s("header",{staticClass:"bar bar-nav"},[t._m(0),t._v(" "),s("h1",{staticClass:"title",domProps:{textContent:t._s(t.title)}})]):t._e(),t._v(" "),t.showTips?s("div",{staticClass:"tips"},[t._v("请务必在7天内发出退货，否则退货申请无效（第"+t._s(t.date)+"天）")]):t._e(),t._v(" "),t.showBottom?s("div",{staticClass:"submit"},[t.showTips?s("div",{staticClass:"submit-btn pink",on:{click:function(e){t.goPage("refundType")}}},[t._v("选择退货方式")]):t._e(),t._v(" "),s("div",{staticClass:"submit-btn",on:{click:function(e){t.openDialog()}}},[t._v(" 撤销退款申请")])]):t._e(),t._v(" "),s("div",{staticClass:"content",class:{"padding-top44":t.headerShow}},[s("div",{staticClass:"refund-detail-list"},[s("span",{staticClass:"name"},[t._v("退款方式：")]),t._v(" "),s("span",{staticClass:"text",domProps:{textContent:t._s(t.type)}})]),t._v(" "),s("div",{staticClass:"refund-detail-list"},[s("span",{staticClass:"name"},[t._v("退款原因：")]),t._v(" "),s("span",{staticClass:"text",domProps:{textContent:t._s(t.reason)}})]),t._v(" "),s("div",{staticClass:"refund-detail-list"},[s("span",{staticClass:"name"},[t._v("退款金额：")]),t._v(" "),s("span",{staticClass:"text",domProps:{textContent:t._s(t.money)}})]),t._v(" "),s("div",{staticClass:"refund-detail-list"},[s("span",{staticClass:"name"},[t._v("退款说明：")]),t._v(" "),s("span",{staticClass:"text",domProps:{textContent:t._s(t.desc)}})]),t._v(" "),s("div",{staticClass:"refund-detail-pic"},[s("div",{staticClass:"title"},[s("span",{staticClass:"name"},[t._v("退款凭证：")]),t._v(" "),t.isShowRefundImgs?t._e():s("span",{staticClass:"text"},[t._v("无")])]),t._v(" "),t.isShowRefundImgs?s("div",{staticClass:"pics clearfix"},t._l(t.orderRefundImgs,function(t){return s("div",{staticClass:"item",attrs:{"track-by":"$index"}},[s("img",{attrs:{src:t}})])})):t._e()]),t._v(" "),t.showRefundExpCo?s("div",{staticClass:"top10"},[s("div",{staticClass:"refund-detail-list"},[s("span",{staticClass:"name"},[t._v("物流公司：")]),t._v(" "),s("span",{staticClass:"text",domProps:{textContent:t._s(t.refundExpCo)}}),t._v(" "),s("a",{staticClass:"btn font11 active",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.goPage("logistics")}}},[t._v("物流详情")])]),t._v(" "),s("div",{staticClass:"refund-detail-list"},[s("span",{staticClass:"name"},[t._v("物流单号：")]),t._v(" "),s("span",{staticClass:"text",domProps:{textContent:t._s(t.refundExpNo)}})])]):t._e()]),t._v(" "),s("my-mask",{attrs:{content:t.maskContent,show:t.maskShow}}),t._v(" "),s("my-dialog",{attrs:{dialogShow:t.dialogShow,dialogText:t.dialogText,dialogClickOk:t.dialogOkFun,dialogClickClose:t.dialogCloseFun}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"pull-left fa",attrs:{href:"javascript:window.history.back();"}},[a("img",{attrs:{src:s(3),alt:"返回"}})])}]}},9:function(t,e,s){function a(t){s(11)}var i=s(0)(s(14),s(10),a,null,null);t.exports=i.exports},90:function(t,e){}},[156]);