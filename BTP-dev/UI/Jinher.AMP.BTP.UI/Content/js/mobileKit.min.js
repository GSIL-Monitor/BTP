/*! mobileKit - v1.0.1 - 2016-07-12
 * http://www.uedcool.com
 * Copyright (c) 2016 Jinher Software; Licensed BSD */
function getQueryString(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i"),c=window.location.search.substr(1).match(b);return null!=c?unescape(c[2]):null}function openModal(a){var b=$(window).scrollTop();if($("body").attr("data-scroll",b).addClass("modal-open"),$(".modal").removeClass("show"),$(".page").addClass("fuzzy"),1===arguments.length&&history.pushState({page:a},"","?mkpage="+a),$("#"+a).is(".modal")){var c=$(window).height()-10,d=$("#"+a).addClass("show").find(".modal-content"),e=d.height(),f=c-e;d.css("margin-top",f>0?f/2:0)}}function closeModal(a){var b=$("body").removeClass("modal-open").attr("data-scroll");$(window).scrollTop(b),$("body").removeAttr("data-scroll"),$(".page").removeClass("fuzzy"),a?($("#"+a).removeClass("show"),history.back()):$(".modal").removeClass("show")}!function(a){"undefined"!=typeof a?(a.mobilekit="1.0.1",a.mk=a.mobilekit):console.error('Mobilekit Library cannot be used,please introduce "jQuery Library" or "Zepto Library"!')}(window.$||window.jQuery||window.Zepto),function(a,b,c,d){a.fn.backToTop=function(a){var b=new e(a);return b.init(this),b};var e=function(b){this.defaults={topDistance:"300",width:"40px",height:"40px",right:"10px",bottom:"55px",borderRadius:"50%",background:"rgba(145,145,145,.4)",color:"#999",fontSize:"16px",textAlign:"center",zIndex:100},this.settings=a.extend({},this.defaults,b)};e.prototype={init:function(b){var c='<div class="backToTop hide"><i class="fa fa-chevron-up"></i></div>';a(b).append(c),this._settingCss(),this._addEventlisteners()},_settingCss:function(){var b=this;a(".backToTop").css({display:"block",position:"fixed",right:b.settings.right,bottom:b.settings.bottom,width:b.settings.width,height:b.settings.height,"line-height":b.settings.height,"-webkit-border-radius":b.settings.borderRadius,"border-radius":b.settings.borderRadius,background:b.settings.background,color:b.settings.color,"font-size":b.settings.fontSize,"text-align":b.settings.textAlign,"z-index":b.settings.zIndex})},_addEventlisteners:function(){var d=this;a(b).scroll(function(){a(b).scrollTop()>d.settings.topDistance?a(".backToTop").removeClass("hide"):a(".backToTop").addClass("hide")}),a(c).on("click",".backToTop",function(){a(b).scrollTop(0)})}}}(Zepto,window,document),function(a){a.fn.setChecked=function(a){var b=this;a===!0?b.find("input").attr("checked",!0):b.find("input").removeAttr("checked")},a.fn.getChecked=function(){var b=this,c=[];return a.each(b,function(){c.push(a(this).find("input").is(":checked"))}),c=1==c.length?c[0]:c},a.fn.disabled=function(){var a=this;a.find("input").attr("disabled",!0),a.find(".fa-check").css("opacity","0.6")},a.fn.enable=function(){var a=this;a.find("input").removeAttr("disabled")}}(window.Zepto||window.jQuery);var Checkbox=function(a){function b(){var b=$(a.obj),c=a.enable;b.checked=a.checked;var d=function(a){return!1},e=function(){return b.checked},f=function(a){c&&(a?b.find("span").addClass("fa-check-square-o").removeClass("fa-square-o"):b.find("span").addClass("fa-square-o").removeClass("fa-check-square-o"),b.checked=a,b.find("input").val(a))},g=function(){c=!0,b.css({opacity:1}),b.off("click",d)},h=function(){c=!1,b.css({opacity:.7}),b.on("click",d)};return f(b.checked),{getChecked:e,setChecked:f,enable:g,disable:h}}function c(){var b=$(a.obj),c=a.enable;b.checked=a.checked;var d=function(a){return!1},e=function(){return b.checked},f=function(d){c&&(d?($(a.radioSelector).find(".fa-circle").parent().find("input").val(!1),$(a.radioSelector).find(".fa-circle").removeClass("fa-circle").addClass("fa-circle-o"),b.find("span").addClass("fa-circle").removeClass("fa-circle-o")):b.find("span").addClass("fa-circle-o").removeClass("fa-circle"),b.checked=d,b.find("input").val(d))},g=function(){c=!0,b.css({opacity:1}),b.off("click",d)},h=function(){c=!1,b.css({opacity:.7}),b.on("click",d)};return f(0===$(a.radioSelector).find(".fa-circle").length?b.checked:!1),{getChecked:e,setChecked:f,enable:g,disable:h}}return"checkbox"==a.type?b():c()},isHistoryApi=!(!window.history||!history.pushState);window.addEventListener("popstate",function(){var a={};a.page=getQueryString("mkpage"),null==a.page?closeModal():a.page&&openModal(a.page,"history")}),$(document).on("click",'[data-toggle="modal"]',function(a){var b=$(this);b.attr("href");openModal(b.attr("data-target")),b.is("a")&&a.preventDefault()}).on("click",'[data-dismiss="modal"]',function(a){var b=$(this),c=b.parents(".modal").attr("id");closeModal(c)}),$(function(){var a=getQueryString("mkpage");a&&openModal(a,"history"),$(window).resize(function(){var a=$(window).height()-10,b=$('[class="modal show"]').find(".modal-content"),c=b.height(),d=a-c;b.css("margin-top",d>0?d/2:0)})}),function(a){a.fn.panel=function(b){function c(){a("body").append(k),a("#"+h).addClass("panel-"+i);var b=a(window).scrollTop();a("body").css("top",-b).addClass("model-open"),a("body").attr("data-scroll",b)}function d(){a(this).remove(),a("#"+h).removeClass("panel-"+i);var b=a("body").removeClass("model-open").attr("data-scroll");a(window).scrollTop(b)}var e="close";b&&(e=b);var f=this,g=a("head"),h=f.attr("data-target"),i=f.attr("data-direction"),j=a(".panel").width(),k=a('<div class="panel-overlay"></div>'),l=".position-left {left: -"+j+"px} .position-right {right: -"+j+"px}",m=a("<style>"+l+"</style>");switch(g.append(m),a("#"+h).addClass("position-"+i),f.on("click",c),k.on("click",d),e){case"open":c();break;case"close":d()}}}(window.Zepto||window.jQuery),$(function(){$(document).on("click",".spinner",function(a){function b(){var a=e==g,b=e==f;a?i.addClass("disable"):i.removeClass("disable"),b?h.addClass("disable"):h.removeClass("disable"),c.trigger("spinner:change")}var c=$(this),d=c.find("input"),e=parseInt(d.val()),f=parseInt(d.prop("min")),g=parseInt(d.prop("max")),h=c.find(".minus"),i=c.find(".plus");$(a.target).is(".minus")&&!c.is(".disable")?(e>f&&(--e,d.val(e)),b()):$(a.target).is(".plus")&&!c.is(".disable")&&(g>e&&(++e,d.val(e)),b())}).on("blur",".spinner > input",function(a){$(this).parent().trigger("spinner:change")}).on("click",".spinner > input",function(a){$(this)[0].select()})}),function(a){a.fn.spinner=function(b){function c(){var a=f==h,b=f==g;a?j.addClass("disable"):j.removeClass("disable"),b?i.addClass("disable"):i.removeClass("disable"),d.trigger("spinner:change")}b="string"==typeof b?b.toLowerCase():b;var d=a(this),e=d.find("input"),f=parseInt(e.val()),g=parseInt(e.prop("min")),h=parseInt(e.prop("max")),i=d.find(".minus"),j=d.find(".plus");return"number"==typeof b?(e.val(b),f=b,c()):"disable"===b?(d.addClass("disable"),e.prop("disabled",!0),c()):"enable"===b&&(d.removeClass("disable"),e.prop("disabled",!1),c()),f}}(Zepto),$(function(){$(document).on("click",".switch",function(){var a=$(this);a.is(".active")?a.removeClass("active").find('input[type="checkbox"]').prop("checked",!1):a.addClass("active").find('input[type="checkbox"]').prop("checked",!0),a.trigger("switch:change")}).on("swipeLeft swipeRight",".switch",function(a){"swipeLeft"===a.type?$(this)["switch"]("off"):"swipeRight"===a.type&&$(this)["switch"]("on")})}),function(a){a.fn["switch"]=function(b){b="string"==typeof b?b.toLowerCase():"";var c=a(this);return"on"===b?(c.addClass("active").find('input[type="checkbox"]').prop("checked",!0),c.addClass("active")):"off"===b?(c.removeClass("active").find('input[type="checkbox"]').prop("checked",!1),c.removeClass("active")):"disable"===b?c.addClass("disable").find('input[type="checkbox"]').prop("disabled",!0):"enable"===b&&c.removeClass("disable").find('input[type="checkbox"]').prop("disabled",!1),a(this).trigger("switch:change"),c.find('input[type="checkbox"]').prop("checked")}}(Zepto),function(a,b,c){a.fn.Tab=function(a){return new d(this,a)};var d=function(b,c){this.defaults={before:new Function},this.options=a.extend({},this.defaults,c),this.container=b,"ul"==this.container[0].nodeName.toLowerCase()?(this.element=this.container,this.container=this.element.parent()):this.element=this.container.find("ul").eq(0),this.init()};d.prototype={init:function(){if(this.slides=this.element.children("li"),this.index=0,!(this.slides.length<2)){this.length=this.slides.length,this.resize(),this.element[0].addEventListener("touchstart",this.bind(this._start,this),!1),this.element[0].addEventListener("touchmove",this.bind(this._move,this),!1),this.element[0].addEventListener("touchend",this.bind(this._end,this),!1);var a=this.element.children("li").eq(this.index).height();this.container.height(a)}},bind:function(a,b){return function(){return a.apply(b,arguments)}},_start:function(a){this.startPos=this.getMousePoint(a);var b=this.element[0].style;b.webkitTransitionDuration=b.MozTransitionDuration=b.msTransitionDuration=b.OTransitionDuration=b.transitionDuration="0ms",this.scrolling=1,this.startTime=new Date},_move:function(a){if(this.scrolling){this.endPos=this.getMousePoint(a);var b=this.endPos.x-this.startPos.x,c=this.endPos.y-this.startPos.y;Math.abs(b)>2*Math.abs(c)&&(a.preventDefault(),b=!this.index&&b>0||this.index==this.length-1&&0>b?b/3:b,this.element[0].style.left=-this.index*this.width+b+"px")}},_end:function(a){"undefined"!=typeof this.scrolling&&(offx=this.endPos.x-this.startPos.x||0,offy=this.endPos.y-this.startPos.y,this.y=offy,Math.abs(offx)>2*Math.abs(offy)&&(new Date-this.startTime<250&&Math.abs(offx)>.1*this.width||Math.abs(offx)>this.width/2)&&(offx<0&&this.index+1<this.length||offx>0&&this.index>0)?offx>0?this.prev():this.next():this.slide(this.index),delete this.scrolling,delete this.startPos,delete this.endPos,delete this.startTime)},prev:function(a){var b=this.index<1?this.length-1:this.index-1;this.slide(b)},next:function(a){this.slide((this.index+1)%this.length)},slide:function(a){a=0>a?this.length-1:a>=this.length?0:a;var b=this.element[0],c=b.style,d=this,e=parseInt(c.left)||0,f=-a*this.width-e,g=Math.abs(f)<this.width?Math.ceil(Math.abs(f)/this.width*300):300,h=function(){c.left=-d.width*a+"px",d.index=a};c.WebkitTransition=c.MozTransition=c.msTransition=c.OTransition=c.transition="left "+g+"ms linear",this.options.before.call(this,a,this.slides[this.index]),h();var i=this.element.children("li").eq(this.index).height();this.container.height(i)},getMousePoint:function(a){a=a||b.event;var c=0,d=0,e=a.touches?a.touches[0]:a;return c+=e.clientX,d+=e.clientY,{x:c,y:d}},resize:function(){var a;this.container.css({overflow:"hidden",visibility:"hidden",listStyle:"none",position:"absolute",top:"50px",left:0,bottom:0,width:"100%"}),this.width=this.container[0].clientWidth-parseInt(this.container.css("padding-left"))-parseInt(this.container.css("padding-right")),a={position:"relative",padding:0,margin:0},a.width=this.width*this.length+"px",a.left=-this.width*this.index+"px",this.element.css(a),this.slides.css({position:"relative",width:this.width+"px","min-height":this.container.height()+"px","float":"left",padding:0,margin:0}),this.container.css({visibility:"visible"})}}}(Zepto,window,void 0);var toast=function(){for(var a,b,c,d=0;3>d;d++)switch(Object.prototype.toString.call(arguments[d]).slice(8,-1)){case"String":a=arguments[d];break;case"Function":b=arguments[d];break;case"Number":c=arguments[d]}var e,f=document;if(c=c||1500,a=a.toString(),null==f.getElementById("styleToast")){var g=f.createElement("style");g.setAttribute("id","styleToast"),g.innerHTML=".toast{box-sizing:border-box;position:fixed;width:100%;left:0;bottom:60px;z-index:999;display:none;padding:10px;background-clip:padding-box;}.toast-content{display: table;padding: 8px 10px;background-color: rgba(0,0,0,.8);border:1px solid #fff;box-shadow: 0 0 10px #a3a3a3;margin: 0 auto;color: #fff;border-radius: 6px;text-align: center;max-width:300px;font-size: .9rem;line-height:1.3}";var h=f.getElementsByTagName("head");h.length?h[0].appendChild(g):f.body.appendChild(g)}var i=f.createElement("div"),j=f.createElement("div");i.setAttribute("class","toast"),j.setAttribute("class","toast-content"),i.appendChild(j),f.body.appendChild(i),i.getElementsByTagName("div")[0].innerHTML=a,i.style.display="block",e=setTimeout(function(){i.style.display="none",i.parentNode.removeChild(i),"function"==typeof b&&b()},c)};!function(a){a.scrollToID=a.fn.scrollToID=function(b,c){var d=a(b).position().top-c;a(this).scrollTop(d)}}(Zepto),$(function(){function a(a){for(var b=0;a;)b+=a.offsetTop,a=a.offsetParent;return{top:b}}var b=$(".letter-index li").height(),c=$(".letter-index li").length-1,d=($(window).height()-$(".letter-index").height())/2,e=a($(".alpha")[0]).top;$(".letter-index").on("touchmove touchstart",function(a){a.preventDefault();var f=a.targetTouches[0];if(1==a.targetTouches.length){var g=parseInt((f.clientY-d)/b),h=$(this).find("li").eq(0>=g?0:g>c?c:g).attr("data-letter");$(window).scrollToID("#"+h,e)}})}),function(a,b){a.fn.musicPlayer=function(b,d){var e='<div id="audio-wrap" class="audio-wrap"><div class="audio-title-wrap"><div class="audio-title"></div><a id="close-player" href="javascript:void(0);" class="closed">&times;</a></div><div class="audio-progress"><span class="time"></span><div class="audio-ui-progress-wrap"><div class="audio-ui-progress"><span class="audio-ui-play-progress" style="width:0"></span></div></div><span class="duration"></span></div><div class="audio-opera"><a href="javascript:void(0);"><i class="fa fa-step-backward"></i></a><a class="hide" href="javascript:void(0);"><i class="fa fa-pause"></i></a><a class="" href="javascript:void(0);"><i class="fa fa-play"></i></a><a href="javascript:void(0);"><i class="fa fa-step-forward"></i></a></div><audio id="jp_audio_0" preload="metadata"></audio></div>';return a(this).append(e),new c(b,d)};var c=function(b,c){this.status=a.extend(!0,{},this.status,c),this.status.backgroundColor&&a("#audio-wrap").addClass(this.status.backgroundColor),this.current=0,this.playlist=b||[],this._html_setAudio(this.playlist[this.current]),this._init(),this._html_load(),this._getHtmlStatus(document.getElementById("jp_audio_0"))};return c.prototype={options:{cssSelector:{play:".fa-play",pause:".fa-pause",seekBar:".audio-ui-progress",playerNext:".fa-step-forward",playerPrev:".fa-step-backward"}},status:{src:"",currentPercentRelative:0,currentTime:0,duration:0,title:"",cycle:!0,canPlay:!0,backgroundColor:""},play:function(a){a="number"==typeof a?a:NaN,this._html_play(a)},pause:function(a){a="number"==typeof a?a:NaN,this._html_pause(a)},seekBar:function(b){var c=a(this.options.cssSelector.seekBar).offset(),d=b.pageX-c.left,e=a(this.options.cssSelector.seekBar).width(),f=100*d/e;this.status.canPlay&&(this.status.currentPercentRelative=f,this._updateInterface()),this.playHead(f)},playHead:function(a){var b=document.getElementById("jp_audio_0");"object"==typeof b.seekable&&b.seekable.length>0&&b.seekable.end(b.seekable.length-1)?b.currentTime=a*b.seekable.end(b.seekable.length-1)/100:b.duration>0&&!isNaN(b.duration)&&(b.currentTime+=a*b.duration/100)},playerNext:function(){this.status.canPlay=!0;var a=this.current+1<this.playlist.length?this.current+1:0;this.current=a,this._html_setAudio(),this._html_load(),this._change()},playerPrev:function(){this.status.canPlay=!0;var a=this.current-1>=0?this.current-1:this.playlist.length-1;this.current=a,this._html_setAudio(),this._html_load(),this._change()},_change:function(){var a=this,b=setTimeout(function(){a._getHtmlStatus(document.getElementById("jp_audio_0")),a.status.canPlay?(document.getElementById("jp_audio_0").play(),a._updateButtons(!0)):a._updateButtons(!1),b&&clearTimeout(b)},100)},_html_pause:function(b){a("#jp_audio_0")[0].pause(),this._updateButtons(!1)},_html_play:function(b){a("#jp_audio_0")[0].play()},_init:function(){this._addEventListeners(document.getElementById("jp_audio_0")),this._cssSelector()},_html_setAudio:function(){this.status=a.extend(!0,{},this.status,this.playlist[this.current])},_html_load:function(){this.status.src?a("#jp_audio_0").attr("src",this.status.src):a("#jp_audio_0").removeAttr("src");var b=a(".audio-title-wrap .audio-title");b.length&&b.text(this.status.title)},_updateButtons:function(c){c!==b&&(c?(a(".audio-opera a i.fa-play").parent().addClass("hide"),a(".audio-opera a i.fa-pause").parent().removeClass("hide")):(a(".audio-opera a i.fa-play").parent().removeClass("hide"),a(".audio-opera a i.fa-pause").parent().addClass("hide")))},_addEventListeners:function(b){var c=this;b.addEventListener("timeupdate",function(){c._getHtmlStatus(b)},!1),b.addEventListener("playing",function(){c._updateButtons(!0)},!1),b.addEventListener("ended",function(){c._updateButtons(!1),c.status.cycle&&c.playerNext()},!1),b.addEventListener("error",function(){c.status.canPlay=!1;var a=b.error.code;switch(a){case 1:toast("取回过程被用户中止",1e3);break;case 2:toast("下载时发生错误",1e3);break;case 3:toast("解码时发生错误",1e3);break;case 4:toast("该音频不支持",1e3)}},!1),document.getElementById("close-player").addEventListener("click",function(){a("#audio-wrap").addClass("hide"),a("#jp_audio_0")[0].pause(),c._updateButtons(!1)},!1)},_cssSelector:function(){var b=this;a.each(this.options.cssSelector,function(c,d){if(a(d).length){var e=function(a){return b[c](a),!1};a(d).bind("click",e)}})},_getHtmlStatus:function(a){var b=0,c=0,d=0;a.duration?this.status.duration=a.duration:this.status.duration=0,b=a.currentTime,c=this.status.duration>0?100*b/this.status.duration:0,d="object"==typeof a.seekable&&a.seekable.length>0&&a.seekable.end(a.seekable.length-1)?100*a.currentTime/a.seekable.end(a.seekable.length-1):c,this.status.currentPercentRelative=d,this.status.currentTime=b,this._updateInterface()},_updateInterface:function(){var b=a(".audio-ui-play-progress"),c=a(".audio-progress .duration"),d=a(".audio-progress .time");b.length&&b.width(this.status.currentPercentRelative+"%"),d.length&&d.text(this._convertTime(this.status.currentTime)),c.length&&c.text(this._convertTime(this.status.duration))},_convertTime:function(a){var b=new Date(1e3*a),c=b.getUTCHours(),d=b.getUTCMinutes(),e=b.getUTCSeconds(),f=10>c?"0"+c:c,g=10>d?"0"+d:d,h=10>e?"0"+e:e;return f+":"+g+":"+h},playlistAdvance:function(b){this.current=b,this._html_setAudio(),this._html_load(),this._change(),a("#audio-wrap").hasClass("hide")&&a("#audio-wrap").removeClass("hide")},updatePlaylist:function(a){this.current=0,this.playlist=a||[],this._html_setAudio(this.playlist[this.current]),this._html_load(),this._updateButtons(!1),this._getHtmlStatus(document.getElementById("jp_audio_0"))},isCycle:function(a){this.status.cycle=a},updateBackgroundcolor:function(b){if(b){var c=this.status.backgroundColor;"default"==b?(b="",b!=c&&(this.status.backgroundColor="",a("#audio-wrap").removeClass(c))):b!=c&&(this.status.backgroundColor=b,c&&a("#audio-wrap").removeClass(c),a("#audio-wrap").addClass(b))}}},{jPlayer:c}}(Zepto),function(a){a.extend(a.fn,{resizable:function(b){function c(a){a.height("auto").height(a[0].scrollHeight+15)}var d=this;return"true"!=d.data("bind-resize")&&(a(window).on("resize.autogrowHeight",function(){d.each(function(){"TEXTAREA"==a(this)[0].tagName&&"destroy"!=b&&c(a(this))})}),d.data("bind-resize","true"),d.each(function(){var d=a(this);"TEXTAREA"==d[0].tagName&&"destroy"!=b&&(c(d),d.off(".autogrow").on("keyup.autogrow change.autogrow input.autogrow paste.autogrow",function(){c(d)}))})),"destroy"==b&&(a(window).off(".autogrowHeight"),d.each(function(){a(this).attr("style","height"),a(this).off(".autogrow")}).data("bind-resize","false")),d}}),a(function(){a("[data-fn~=resizable]").resizable()})}(window.Zepto||window.jQuery||window.$),function(a){a.extend(a.fn,{swipeToggle:function(b){function c(b){a(this).removeClass("swiper-in"),b.originalEvent?(i=b.originalEvent.targetTouches[0].clientX,j=b.originalEvent.targetTouches[0].clientY):(i=b.targetTouches[0].clientX,j=b.targetTouches[0].clientY),m=(new Date).getTime(),o=h(a(this).find(".swipeout-actions-button")),k=-o}function d(b){b.originalEvent?(k=b.originalEvent.targetTouches[0].clientX-i,l=b.originalEvent.targetTouches[0].clientY-j):(k=b.targetTouches[0].clientX-i,l=b.targetTouches[0].clientY-j),n=k/((new Date).getTime()-m),k="true"==a(this).data("swiper-in")?-o+k:k,Math.abs(k)>Math.abs(l)&&(b.preventDefault(),a(this).attr("style","transform:translateX("+k+"px);-webkit-transform:translateX("+k+"px)"),k>=0&&a(this).attr("style",""),-k>=o&&a(this).attr("style","transform:translateX("+-o+"px);-webkit-transform:translateX("+-o+"px)"))}function e(b){o/2>-k?g(a(this)):-k>=o/2&&f(a(this)),-.5>n?f(a(this)):n>.5&&g(a(this)),n=null}function f(b){b.each(function(){a(this).addClass("swiper-in"),o=h(a(this).find(".swipeout-actions-button")),a(this).attr("style","transform:translateX("+-o+"px);-webkit-transform:translateX("+-o+"px)"),a(this).data("swiper-in","true")})}function g(b){b.each(function(){a(this).addClass("swiper-in"),a(this).attr("style",""),a(this).data("swiper-in","false")})}function h(b){return a==window.Zepto?b.width():a==window.jQuery?b.outerWidth():void 0}var i,j,k,l,m,n,o,p=a(this);return"true"!=p.data("bind-swipeToggle")&&"destroy"!=b&&"swipeOut"!=b&&"swipeIn"!=b&&(a(document).on("touchstart.sClose",function(b){var c=a(b.target).closest(".swipeout").css("transform")||a(b.target).closest(".swipeout").css("-webkit-transform");("none"==c||void 0===c)&&(k=0,p.each(function(){a(this).attr("style",""),a(this).data("swiper-in","false")}))}),p.each(function(){a(this).on("touchstart.tStart",c),a(this).on("touchmove.tMove",d),a(this).on("touchend.tEnd",e)}),p.data("bind-swipeToggle","true")),"destroy"==b&&(a(document).off("touchstart.sClose"),p.each(function(){a(this).off("touchstart.tStart"),a(this).off("touchmove.tMove"),a(this).off("touchend.tEnd")}),p.data("bind-swipeToggle","false")),"swipeOut"==b&&f(p),"swipeIn"==b&&g(p),p}}),a(function(){a("[data-fn~=swipeToggle]").swipeToggle()})}(window.Zepto||window.jQuery||window.$),function(a){a.extend(a.fn,{photobrowser:function(b){b=b||{};var c={pagination:!1,navigationButton:!1},d=this,e=a.extend({},c,b),f={w:a(window).width(),swiper:a(".swiper-wrapper"),lens:a(".swiper-wrapper>div").length,prev:a(".photo-browser-prev"),next:a(".photo-browser-next"),back:a("a[data-back=back]"),photoview:a(".photo-view")};return d.init=function(a){d.attr("data-tag","true"),f.swiper.css({width:f.w*a}),f.swiper.find("div.swiper-slide").css("width",f.w),e.pagination&&d.pointSwiper(a),e.navigationButton?f.swiper.next().removeClass("hide"):f.swiper.next().addClass("hide")},d.pointSwiper=function(b){for(var c='<ul class="pointSwiper">',d=0;b>d;d++)c+="<li></li>";c+="</ul>",f.swiper.parent().append(a(c))},d.addcur=function(a){f.swiper.siblings("ul").children().eq(a).addClass("active").siblings().removeClass("active")},d.currentImg=function(a){f.swiper.css("-webkit-transform","translateX("+-f.w*a+"px)")},d.slider=function(b,c,g){function h(){m++;var b=a(".swiper-wrapper>div").length;f.swiper.css("-webkit-transition","300ms"),m>=b-1?(m=b-1,f.swiper.css("-webkit-transform","translate3d("+-c*m+"px,0,0)"),o.addClass("active-state")):(f.swiper.css("-webkit-transform","translate3d("+-c*m+"px,0,0)"),o.removeClass("active-state"),n.removeClass("active-state"))}function i(){m--,f.swiper.css("-webkit-transition","300ms"),0>=m?(m=0,f.swiper.css("-webkit-transform","translate3d("+-c*m+"px,0,0)"),n.addClass("active-state")):(f.swiper.css("-webkit-transform","translate3d("+-c*m+"px,0,0)"),n.removeClass("active-state"),o.removeClass("active-state"))}var j,k,l,m=b,n=f.prev,o=f.next,p=function(a){a.preventDefault(),l=1*new Date,j=a.touches?a.touches[0].pageX:a.originalEvent.touches[0].pageX},q=function(a){a.preventDefault(),k=a.touches?a.touches[0].pageX:a.originalEvent.touches[0].pageX,f.swiper.css({"-webkit-transition":"0ms","-webkit-transform":"translate3d("+(-c*m+k-j)+"px,0,0)"})},r=function(a){a.preventDefault();var b=1*new Date-l;b>100?-50>k-j?h():k-j>50?i():f.swiper.css({"-webkit-transform":"translate3d("+-c*m+"px,0,0)","-webkit-transition":"300ms"}):f.swiper.css({"-webkit-transform":"translate3d("+-c*m+"px,0,0)","-webkit-transition":"300ms"}),d.addcur(m),f.swiper.attr("data-target",m+1)};f.swiper.on("touchstart.sliderstart",p),f.swiper.on("touchmove.slidermove",q),f.swiper.on("touchend.sliderend",r),f.swiper.attr("data-target",m+1),e.navigationButton&&(o.on("click",function(){h()}),n.on("click",function(){i()})),f.swiper.siblings("ul").on("click","li",function(){m=a(this).index(),d.addcur(m),f.swiper.css({"-webkit-transform":"translate3d("+-f.w*m+"px,0,0)"}),f.swiper.css("-webkit-transition","300ms")})},d.refresh=function(){var b=a(".swiper-wrapper>div").length,c="",d=f.swiper.attr("data-target");f.swiper.css({width:f.w*b}),f.swiper.find("div.swiper-slide").css("width",f.w);for(var e=0;b>e;e++)c+=e==d?'<li class="active"></li>':"<li></li>";a(".pointSwiper").html(c)},d.open=function(a){var b=f.lens;a>b?a=b-1:a-=1,d.opeUrl("photoview"),f.photoview.removeClass("hide"),f.swiper.css("-webkit-transform","translate3d("+-f.w*a+"px,0,0)"),d.slider(a,f.w,e.lrSwiper),d.addcur(a)},d.close=function(){f.swiper.off("touchstart.sliderstart"),f.swiper.off("touchmove.slidermove"),f.swiper.off("touchend.sliderend"),f.prev.removeClass("active-state"),f.next.removeClass("active-state"),f.swiper.removeAttr("data-target"),d.attr("data-tag","false"),f.photoview.addClass("hide"),history.back()},d.opeUrl=function(a){f.photoview.removeClass("hide"),1===arguments.length&&history.pushState({page:a},"","?page="+a)},d.init(f.lens),window.addEventListener("popstate",function(){var b={};b.page=getQueryString("page"),null==b.page?a(".photo-view").addClass("hide"):b.page&&a(".photo-view").removeClass("hide")}),"true"==d.attr("data-tag")&&(d.on("click","div",function(){var b=a(window).height();a(".swiper-container").css({height:b-44+"px","margin-top":"22px"});var c=a(this).index(),g=f.lens-1,h=f.lens,i=f.prev,j=f.next;d.attr("data-tag","true"),d.open(),c=c>g?g:c,d.addcur(c),e.navigationButton&&(0===c?i.addClass("active-state"):c==h-1?j.addClass("active-state"):i.removeClass("active-state")),d.currentImg(c),d.slider(c,f.w,e.lrSwiper)}),a("a[data-back=back]").on("click",function(){d.close()}),"refresh"===b&&d.refresh(),"number"==typeof b&&(0===a(".pointSwiper").length&&d.pointSwiper(f.lens),d.open(b)),"close"===b&&(d.attr("data-tag","false"),d.close())),d}}),a(function(){var b=getQueryString("page");b&&a(".photo-view").removeClass("hide")})}(window.Zepto||window.jQuery||window.$);var MaxLength=function(){this.init()};MaxLength.prototype={init:function(){var a=$('input[type="number"]'),b=a.attr("maxlength");a.on("keyup keypress keydown focus",function(){b&&a.val().length>=b&&a.val(a.val().substring(0,b))})}},$(function(){new MaxLength}),function(a,b){a.fn.view_3d=function(a){return new c(this,a)};var c=function(b,c){this._default={frames:[],totalFrames:0,pathPattern:null,curLoadImage:0,after:new Function},this.options=a.extend({},this._default,c),this.element=b,this.init()};c.prototype={init:function(){this.element.find("img").addClass("main-frame"),this.element[0].addEventListener("touchstart",this.bind(this._touchStart,this),!1),this.element[0].addEventListener("touchmove",this.bind(this._touchMove,this),!1),this.element[0].addEventListener("touchend",this.bind(this._touchEnd,this),!1),this.loadImage()},bind:function(a,b){return function(){return a.apply(b,arguments)}},loadImage:function(c){var d=this,e=this.options.pathPattern.replace("#index#",this.options.curLoadImage+1);c&&(e+="?"+(new Date).getTime());var f=new Image;f.src=e,a(f).load(function(){d.imageLoaded(f.src)}).error(function(){c?(d.element.after('<div style="text-align:center;margin-top:50%;">加载失败，<a style="padding:10px;" href="'+b.location.href+'">请重试</a></div>'),a(".ui-loading-block").length&&a(".ui-loading-block").addClass("hide")):d.loadImage(!0)})},imageLoaded:function(a){this.options.curLoadImage++,this.element.find("span.loading").text(Math.floor(this.options.curLoadImage/this.options.totalFrames*100)+"%"),this.options.frames.push(a),this.options.curLoadImage==this.options.totalFrames?this.start():this.loadImage()},start:function(){a(".ui-loading-block").length&&a(".ui-loading-block").fadeOut("slow");var b=this;setTimeout(function(){b.element.find("img.main-frame").removeClass("hide")},600),this.element.addClass("draggable"),this.element.find("img.main-frame").attr("src",this.options.frames[0]),this.curImg=1},_touchStart:function(a){a.preventDefault(),this.element.addClass("draggable"),this.startPointX=this._getPointer(a).x,this.startPointY=this._getPointer(a).y},_touchMove:function(b){this.endPointX=this._getPointer(b).x,this.endPointY=this._getPointer(b).y;var c=this.endPointX-this.startPointX,d=this.endPointY-this.startPointY;this.startPointX=this.endPointX,this.startPointY=this.endPointY,a(".draggable").length>0&&(Math.abs(c)>Math.abs(d)&&c>0?this.curImg<this.options.totalFrames-1?(this.curImg++,this.element.find("img.main-frame").attr("src",this.options.frames[this.curImg])):(this.curImg=0,this.element.find("img.main-frame").attr("src",this.options.frames[this.curImg])):Math.abs(c)>Math.abs(d)&&0>c&&(this.curImg>0?(this.curImg--,this.element.find("img.main-frame").attr("src",this.options.frames[this.curImg])):(this.curImg=this.options.totalFrames-1,this.element.find("img.main-frame").attr("src",this.options.frames[this.curImg]))))},_touchEnd:function(){a(this).removeClass("draggable")},_getPointer:function(a){var b=a.touches?a.touches[0]:a;return{x:b.pageX,y:b.pageY}}}}(Zepto,window),function(a,b){window.Loading=function(c){this.loadActive=0,this._default={before:new Function,after:new Function},this.options=a.extend({},this._default,c),this.timeout=b},Loading.prototype={loadingStart:function(){var a=this;0===this.loadActive++&&"function"==typeof this.options.before&&(this.options.before(),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.loadActive>0&&console.log("请检查是否缺少loadingStop")},36e3))},loadingStop:function(){this.loadActive<=0&&toast("loadingStart与loadingStop不匹配"),0===--this.loadActive&&"function"==typeof this.options.after&&(this.options.after(),this.timeout&&clearTimeout(this.timeout))}}}(Zepto),function(a){function b(a){return a*Math.PI/180}a.fn.poSt=function(c){c=120>c?120:c||160;var d=this,e=90/(d.length-1);a.each(d,function(f){var g=(Math.sin(b(e*f))*c).toFixed(2),h=(Math.cos(b(e*f))*c).toFixed(2);d.parent(".susButton-left").length?a(d[f]).css({left:h+"px",top:-g+"px"}):a(d[f]).css({left:-h+"px",top:-g+"px"})})},a.fn.wheelMenu=function(a){var b=this;b.find(".ring").poSt(a),b.on("click",".menu",function(){var a=b.data("rot")-180;b.css("-webkit-transform","rotate("+a+"deg)"),b.css("-moz-transform","rotate("+a+"deg)"),b.css("-ms-transform","rotate("+a+"deg)"),b.css("transform","rotate("+a+"deg)"),0!==b.find(".close").length?b.find(".menu").removeClass("close"):b.find(".menu").addClass("close"),b.data("rot",a)})}}(Zepto),function(a,b,c){a.fn.scrollLoad=function(a){return new d(this,a)};var d=function(b,c){this.$element=a(b),this.insertDOM=!1,this.loading=!1,this.topPull=!0,this.bottomPull=!0,this._default={domUp:{domRefresh:'<div style="height: 40px;line-height: 40px;text-align: center;">↓下拉刷新</div>',domUpdate:'<div style="height: 40px;line-height: 40px;text-align: center;">↑释放更新</div>',domLoad:'<div style="height: 40px;line-height: 40px;text-align: center;"><span class="loading"></span>加载中...</div>'},domDown:{domRefresh:'<div style="height: 40px;line-height: 40px;text-align: center;">↑上拉加载更多</div>',domUpdate:'<div style="height: 40px;line-height: 40px;text-align: center;">↓释放加载</div>',domLoad:'<div style="height: 40px;line-height: 40px;text-align: center;"><span class="loading"></span>加载中...</div>'},loadUpFn:"",loadDownFn:""},this.init(c)};d.prototype={init:function(b){var c=this;this.opts=a.extend({},this._default,b),this.$element.on("touchstart",function(a){c._start(a)}),this.$element.on("touchmove",function(a){c._move(a)}),this.$element.on("touchend",function(){c._end()})},getPoint:function(a){var b=a.touches?a.touches[0]:a;return{x:b.pageX,y:b.pageY}},_start:function(d){this.startPos=this.getPoint(d),this._meHeight=a(b).height(),this._childrenHeight=a(c).height(),this._scrollTop=a(b).scrollTop()},_move:function(b){this.endPos=this.getPoint(b),this._moveY=this.endPos.y-this.startPos.y,
        this._moveY>0?this.direction="down":this._moveY<0&&(this.direction="up");var c=Math.abs(this._moveY);""!==this.opts.loadUpFn&&this._scrollTop<=0&&"down"==this.direction&&this.topPull&&(b.preventDefault(),this.insertDOM||(this.$element.prepend('<div class="dropload-up" style="position: relative;"></div>'),this.insertDOM=!0),this._offsetY=.2*c,this._offsetY<=20?a(".dropload-up").html("").append(this.opts.domUp.domRefresh):this._offsetY>20&&this._offsetY<=40&&a(".dropload-up").html("").append(this.opts.domUp.domUpdate),this.$element.css("top",this._offsetY-40+"px")),""!==this.opts.loadDownFn&&this._childrenHeight<=this._meHeight+this._scrollTop&&"up"==this.direction&&this.bottomPull&&(b.preventDefault(),this.insertDOM||(this.$element.append('<div class="dropload-down" style="position: relative;"></div>'),this.insertDOM=!0),this._offsetY=.2*c,this._offsetY<=40?a(".dropload-down").html("").append(this.opts.domDown.domRefresh):this._offsetY>40&&this._offsetY<=80&&a(".dropload-down").html("").append(this.opts.domDown.domUpdate),this.$element.css("top",-this._offsetY+"px"))},_end:function(){Math.abs(this._moveY);this.insertDOM&&("down"==this.direction?(this.$domResult=a(".dropload-up"),this.domLoad=this.opts.domUp.domLoad):"up"==this.direction&&(this.$domResult=a(".dropload-down"),this.domLoad=this.opts.domDown.domLoad),this._offsetY>40?(this.$domResult.html("").append(this.domLoad),this.loading=!0,""!==this.opts.loadUpFn&&"down"==this.direction?this.opts.loadUpFn(this):""!==this.opts.loadDownFn&&"up"==this.direction&&this.opts.loadDownFn(this)):(this.$domResult.remove(),this.$element.css("top",0),this.insertDOM=!1))},setScrollLoad:function(a){switch(a){case"disableAll":this.bottomPull=!1,this.topPull=!1;break;case"enableAll":this.bottomPull=!0,this.topPull=!0;break;case"disableBottom":this.bottomPull=!1;break;case"enableBottom":this.bottomPull=!0;break;case"disableTop":this.topPull=!1;break;case"enableTop":this.topPull=!0}},resetload:function(){this.$domResult.length&&(this.$domResult.remove(),this.$element.css("top",0)),this.loading=!1,this.insertDOM=!1}}}(window.Zepto,window,document),function(a){a.fn.sliderNav=function(c){var d=[],e={element:".sliderNav-bar",items:d,mode:!0},f=a.extend(e,c),g=a.meta?a.extend({},f,$$.data()):f;return a(g.element).each(function(b){var c=a(this).html().charAt(0).toLowerCase();-1===d.indexOf(g.items)&&d.push(c)}),a.each(g.items,function(b,c){a(".slider-nav").append('<a alt="#'+c+'">'+c+"</a>")}),new b(g.element,g.mode)};var b=function(a,b){this._slideEvent(b),this.mode=b,this.element=a};b.prototype={_slideEvent:function(){var b=this,c=a(".slider-nav"),d=(c.height()-c.find("a").height()*c.find("a").length)/2;c.on("touchmove touchstart",function(c){b._slideMove(a(this),c,d)}),c.on("touchend",function(){var b=setTimeout(function(){a(".selectedCenter").remove(),clearTimeout(b)},500)})},_slideMove:function(b,c,d){c.preventDefault();var e=c.targetTouches[0],f=this;if(1==c.targetTouches.length){var g=parseInt((e.clientY-d)/b.find("a").height());0>=g?g=0:g>b.find("a").length-1?g=b.find("a").length-1:g;var h=a(".slider-content "+this.element).eq(g),i=a(".slider-content").offset().top,j=h.offset().top,k=j-i;f._slideMode(h),a(window).scrollTop(k)}},_slideMode:function(b){if(this.mode)a(b).addClass("selected").siblings().removeClass("selected");else{b=b.attr("id");var c='<div class="selectedCenter">'+b+"</div>";a(".selectedCenter").remove(),a("body").append(c)}}}}(Zepto);
(function($,window,document){$.fn.endlessScroll=function(options){return new EndlessScroll(this,options)};var EndlessScroll=function(element,options){this.ele=element||$(window);if(element[0]==document){this.ele=$(window)}this.scrollAjaxLocker=true;this.defaults={scrollAjax:true,scrollAjaxUrl:"",scrollAjaxType:"GET",scrollAjaxDataType:"json",scrollAjaxData:{},scrollAjaxSuccess:"",scrollAjaxError:"",content:"",direction:"portrait"};this.options=$.extend({},this.defaults,options);this.init()};EndlessScroll.prototype.init=function(){var self=this;this.ele.on("scroll",function(){switch(self.options.direction){case"portrait":self.scrollAjaxLocker&&self.verticalScroll();break;case"landscape":self.scrollAjaxLocker&&self.horizentalScroll();break;default:alert("direction 参数值有误")}})};EndlessScroll.prototype.verticalScroll=function(){var scrolltop=this.ele.scrollTop();var scrollheight=this.ele.height();var contentH=this.ele[0]==window?$(document).height():this.ele[0].scrollHeight;if(contentH<=scrolltop+scrollheight){this.hasContent()}};EndlessScroll.prototype.horizentalScroll=function(){var scrollLeft=this.ele.scrollLeft();var scrollWidth=this.ele.width();var contentW=this.ele[0].scrollWidth;if(contentW<=scrollLeft+scrollWidth){this.hasContent()}};EndlessScroll.prototype.hasContent=function(){if(this.options.scrollAjax&&this.options.scrollAjaxUrl){this.scrollAjax()}else{if(typeof this.options.content=="function"){this.options.content()}}};EndlessScroll.prototype.scrollAjax=function(){var self=this;$.ajax({url:this.options.scrollAjaxUrl,type:this.options.scrollAjaxType,dataType:this.options.scrollAjaxDataType,data:this.options.scrollAjaxData,beforeSend:function(){self.scrollAjaxLocker=false},success:function(data){if(typeof self.options.scrollAjaxSuccess=="function"){var state=self.options.scrollAjaxSuccess(data,self.options.scrollAjaxData);if(state===false){return}else{if(state==Object){self.options.scrollAjaxData=state}}self.scrollAjaxLocker=true}},error:function(e){if(typeof self.options.scrollAjaxError=="function"){self.options.scrollAjaxError(e)}self.scrollAjaxLocker=true}})}})(window.Zepto,window,document);