/*!
 * iCheck v2.0.0, http://git.io/arlzeA
 * ===================================
 * Cross-platform checkboxes and radio buttons customization
 *
 * (c) Damir Sultanov - http://fronteed.com
 * MIT Licensed
 */
(function(win,doc,$){if(!win.ichecked){win.ichecked=function(){$=win.jQuery||win.Zepto;var defaults={autoInit:true,autoAjax:true,tap:true,checkboxClass:"icheckbox",radioClass:"iradio",checkedClass:"checked",disabledClass:"disabled",indeterminateClass:"indeterminate",hoverClass:"hover",callbacks:{ifCreated:false},classes:{base:"icheck",div:"#-item",area:"#-area-",input:"#-input",label:"#-label"}};win.icheck=$.extend(defaults,win.icheck);var ua=win.navigator.userAgent;var ie=/MSIE [5-8]/.test(ua)||doc.documentMode<9;var operaMini=/Opera Mini/.test(ua);var baseClass=defaults.classes.base;var divClass=defaults.classes.div.replace("#",baseClass);var areaClass=defaults.classes.area.replace("#",baseClass);var nodeClass=defaults.classes.input.replace("#",baseClass);var labelClass=defaults.classes.label.replace("#",baseClass);delete defaults.classes;var filter="input[type=checkbox],input[type=radio]";var areas={};var hashes={};var recognizer=new RegExp(baseClass+"\\[(.*?)\\]");var extract=function(className,matches,value){if(!!className){matches=recognizer.exec(className);if(matches&&hashes[matches[1]]){value=matches[1];}}return value;};var computed=win.getComputedStyle;var isPointer=win.PointerEvent||win.MSPointerEvent;var isTouch="ontouchend" in win;var isMobile=/mobile|tablet|phone|ip(ad|od)|android|silk|webos/i.test(ua);var mouse=["mouse","down","up","over","out"];var pointer=win.PointerEvent?["pointer",mouse[1],mouse[2],mouse[3],mouse[4]]:["MSPointer","Down","Up","Over","Out"];var touch=["touch","start","end"];var noMouse=(isTouch&&isMobile)||isPointer;var hoverStart=noMouse?(isTouch?touch[0]+touch[1]:pointer[0]+pointer[3]):mouse[0]+mouse[3];var hoverEnd=noMouse?(isTouch?touch[0]+touch[2]:pointer[0]+pointer[4]):mouse[0]+mouse[4];var tapStart=noMouse?(isTouch?false:pointer[0]+pointer[1]):mouse[0]+mouse[1];var tapEnd=noMouse?(isTouch?false:pointer[0]+pointer[2]):mouse[0]+mouse[2];var hover=!operaMini?hoverStart+".i "+hoverEnd+".i ":"";var tap=!operaMini&&tapStart?tapStart+".i "+tapEnd+".i":"";var styleTag;var styleList;var styleArea=defaults.areaStyle!==false?'position:absolute;display:block;content:"";top:#;bottom:#;left:#;right:#;':0;var styleInput="position:absolute!;display:block!;outline:none!;"+(defaults.debug?"":"opacity:0!;z-index:-99!;clip:rect(0 0 0 0)!;");var style=function(rules,selector,area){if(!styleTag){styleTag=doc.createElement("style");(doc.head||doc.getElementsByTagName("head")[0]).appendChild(styleTag);if(!win.createPopup){styleTag.appendChild(doc.createTextNode(""));}styleList=styleTag.sheet||styleTag.styleSheet;}if(!selector){selector="div."+(area?areaClass+area+":after":divClass+" input."+nodeClass);}rules=rules.replace(/!/g," !important");if(styleList.addRule){styleList.addRule(selector,rules,0);}else{styleList.insertRule(selector+"{"+rules+"}",0);}};style(styleInput);if((isTouch&&isMobile)||operaMini){style("cursor:pointer!;","label."+labelClass+",div."+divClass);}style("display:none!","iframe.icheck-frame");var toggle=function(node,className,status,currentClass,updatedClass,addClass,removeClass){currentClass=node.className;if(!!currentClass){updatedClass=" "+currentClass+" ";if(status===1){addClass=className;}else{if(status===0){removeClass=className;}else{addClass=className[0];removeClass=className[1];}}if(!!addClass&&updatedClass.indexOf(" "+addClass+" ")<0){updatedClass+=addClass+" ";}if(!!removeClass&&~updatedClass.indexOf(" "+removeClass+" ")){updatedClass=updatedClass.replace(" "+removeClass+" "," ");}updatedClass=updatedClass.replace(/^\s+|\s+$/g,"");if(updatedClass!==currentClass){node.className=updatedClass;}return updatedClass;}};var tidy=function(node,key,trigger,settings,className,parent){if(hashes[key]){settings=hashes[key];className=settings.className;parent=$(closest(node,"div",className));if(parent.length){$(node).removeClass(nodeClass+" "+className).attr("style",settings.style);$("label."+settings.esc).removeClass(labelClass+" "+className);$(parent).replaceWith($(node));if(trigger){callback(node,key,trigger);}}hashes[key]=false;}};var inspect=function(object,node,stack,direct,indirect){stack=[];direct=object.length;while(direct--){node=object[direct];if(node.type){if(~filter.indexOf(node.type)){stack.push(node);}}else{node=$(node).find(filter);indirect=node.length;while(indirect--){stack.push(node[indirect]);}}}return stack;};var closest=function(node,tag,className,parent){while(node&&node.nodeType!==9){node=node.parentNode;if(node&&node.tagName==tag.toUpperCase()&&~node.className.indexOf(className)){parent=node;break;}}return parent;};var callback=function(node,key,name){name="if"+name;if(!!hashes[key].callbacks){if(hashes[key].callbacks[name]!==false){$(node).trigger(name);if(typeof hashes[key].callbacks[name]=="function"){hashes[key].callbacks[name](node,hashes[key]);}}}};var process=function(data,options,ajax,silent){var elements=inspect(data);var element=elements.length;while(element--){var node=elements[element];var nodeAttr=node.attributes;var nodeAttrCache={};var nodeAttrLength=nodeAttr.length;var nodeAttrName;var nodeAttrValue;var nodeData={};var nodeDataCache={};var nodeDataProperty;var nodeId=node.id;var nodeInherit;var nodeInheritItem;var nodeInheritLength;var nodeString=node.className;var nodeStyle;var nodeType=node.type;var queryData=$.cache?$.cache[node[$.expando]]:0;var settings;var key=extract(nodeString);var keyClass;var handle;var styler;var stylerClass="";var stylerStyle;var area=false;var label;var labelDirect;var labelIndirect;var labelKey;var labelString;var labels=[];var labelsLength;var fastClass=win.FastClick?" needsclick":"";while(nodeAttrLength--){nodeAttrName=nodeAttr[nodeAttrLength].name;nodeAttrValue=nodeAttr[nodeAttrLength].value;if(~nodeAttrName.indexOf("data-")){nodeData[nodeAttrName.substr(5)]=nodeAttrValue;}if(nodeAttrName=="style"){nodeStyle=nodeAttrValue;}nodeAttrCache[nodeAttrName]=nodeAttrValue;}if(queryData&&queryData.data){nodeData=$.extend(nodeData,queryData.data);}for(nodeDataProperty in nodeData){nodeAttrValue=nodeData[nodeDataProperty];if(nodeAttrValue=="true"||nodeAttrValue=="false"){nodeAttrValue=nodeAttrValue=="true";}nodeDataCache[nodeDataProperty.replace(/checkbox|radio|class|id|label/g,function(string,position){return position===0?string:string.charAt(0).toUpperCase()+string.slice(1);})]=nodeAttrValue;}settings=$.extend({},defaults,win.icheck,nodeDataCache,options);handle=settings.handle;if(handle!=="checkbox"&&handle!=="radio"){handle=filter;}if(settings.init!==false&&~handle.indexOf(nodeType)){if(key){tidy(node,key);}while(!hashes[key]){key=Math.random().toString(36).substr(2,5);if(!hashes[key]){keyClass=baseClass+"["+key+"]";break;}}delete settings.autoInit;delete settings.autoAjax;settings.style=nodeStyle||"";settings.className=keyClass;settings.esc=keyClass.replace(/(\[|\])/g,"\\$1");hashes[key]=settings;labelDirect=closest(node,"label","");if(labelDirect){if(!!!labelDirect.htmlFor&&!!nodeId){labelDirect.htmlFor=nodeId;}labels.push(labelDirect);}if(!!nodeId){labelIndirect=$('label[for="'+nodeId+'"]');while(labelIndirect.length--<=0){label=labelIndirect[labelIndirect.length];if(label!==labelDirect){labels.push(label);}}}labelsLength=labels.length;while(labelsLength--){label=labels[labelsLength];labelString=label.className;labelKey=extract(labelString);if(labelKey){labelString=toggle(label,baseClass+"["+labelKey+"]",0);}else{labelString=(!!labelString?labelString+" ":"")+labelClass;}label.className=labelString+" "+keyClass+fastClass;}styler=doc.createElement("div");if(!!settings.inherit){nodeInherit=settings.inherit.split(/\s*,\s*/);nodeInheritLength=nodeInherit.length;while(nodeInheritLength--){nodeInheritItem=nodeInherit[nodeInheritLength];if(nodeAttrCache[nodeInheritItem]!==undefined){if(nodeInheritItem=="class"){stylerClass+=nodeAttrCache[nodeInheritItem]+" ";}else{styler.setAttribute(nodeInheritItem,nodeInheritItem=="id"?baseClass+"-"+nodeAttrCache[nodeInheritItem]:nodeAttrCache[nodeInheritItem]);}}}}stylerClass+=settings[nodeType+"Class"];stylerClass+=" "+divClass+" "+keyClass;if(settings.area&&styleArea){area=(""+settings.area).replace(/%|px|em|\+|-/g,"")|0;if(area){if(!areas[area]){style(styleArea.replace(/#/g,"-"+area+"%"),false,area);areas[area]=true;}stylerClass+=" "+areaClass+area;}}styler.className=stylerClass+fastClass;node.className=(!!nodeString?nodeString+" ":"")+nodeClass+" "+keyClass;node.parentNode.replaceChild(styler,node);styler.appendChild(node);if(!!settings.insert){$(styler).append(settings.insert);}if(area){if(computed){stylerStyle=computed(styler,null).getPropertyValue("position");}else{stylerStyle=styler.currentStyle.position;}if(stylerStyle=="static"){styler.style.position="relative";}}operate(node,styler,key,"updated",true,false,ajax);hashes[key].done=true;if(!silent){callback(node,key,"Created");}}}};var operate=function(node,parent,key,method,silent,before,ajax){var settings=hashes[key];var states={};var changes={};states.checked=[node.checked,"Checked","Unchecked"];if((!before||ajax)&&method!=="click"){states.disabled=[node.disabled,"Disabled","Enabled"];states.indeterminate=[node.getAttribute("indeterminate")=="true"||!!node.indeterminate,"Indeterminate","Determinate"];}if(method=="updated"||method=="click"){changes.checked=before?!states.checked[0]:states.checked[0];if((!before||ajax)&&method!=="click"){changes.disabled=states.disabled[0];changes.indeterminate=states.indeterminate[0];}}else{if(method=="checked"||method=="unchecked"){changes.checked=method=="checked";}else{if(method=="disabled"||method=="enabled"){changes.disabled=method=="disabled";}else{if(method=="indeterminate"||method=="determinate"){changes.indeterminate=method!=="determinate";}else{changes.checked=!states.checked[0];}}}}change(node,parent,states,changes,key,settings,method,silent,before,ajax);};var change=function(node,parent,states,changes,key,settings,method,silent,before,ajax,loop){var type=node.type;var typeCapital=type=="radio"?"Radio":"Checkbox";var property;var value;var classes;var inputClass;var label;var labelClass="LabelClass";var form;var radios;var radiosLength;var radio;var radioKey;var radioStates;var radioChanges;var changed;var toggled;if(!parent){parent=closest(node,"div",settings.className);}if(parent){for(property in changes){value=changes[property];if(states[property][0]!==value&&method!=="updated"&&method!=="click"){node[property]=value;}if(ajax){if(value){node.setAttribute(property,property);}else{node.removeAttribute(property);}}if(settings[property]!==value){settings[property]=value;changed=true;if(property=="checked"){toggled=true;if(!loop&&value&&(!!hashes[key].done||ajax)&&type=="radio"&&!!node.name){form=closest(node,"form","");radios='input[name="'+node.name+'"]';radios=form&&!ajax?$(form).find(radios):$(radios);radiosLength=radios.length;while(radiosLength--){radio=radios[radiosLength];radioKey=extract(radio.className);if(node!==radio&&hashes[radioKey]&&hashes[radioKey].checked){radioStates={checked:[true,"Checked","Unchecked"]};radioChanges={checked:false};change(radio,false,radioStates,radioChanges,radioKey,hashes[radioKey],"updated",silent,before,ajax,true);}}}}classes=[settings[property+"Class"],settings[property+typeCapital+"Class"],settings[states[property][1]+"Class"],settings[states[property][1]+typeCapital+"Class"],settings[property+labelClass]];inputClass=[classes[3]||classes[2],classes[1]||classes[0]];if(value){inputClass.reverse();}toggle(parent,inputClass);if(!!settings.mirror&&!!classes[4]){label=$("label."+settings.esc);while(label.length--){toggle(label[label.length],classes[4],value?1:0);}}if(!silent||loop){callback(node,key,states[property][value?1:2]);}}}if(!silent||loop){if(changed){callback(node,key,"Changed");}if(toggled){callback(node,key,"Toggled");}}if(!!settings.cursor&&!isMobile){if(!settings.disabled&&!settings.pointer){parent.style.cursor="pointer";settings.pointer=true;}else{if(settings.disabled&&settings.pointer){parent.style.cursor="default";settings.pointer=false;}}}hashes[key]=settings;}};$.fn.icheck=function(options,fire){if(/^(checked|unchecked|indeterminate|determinate|disabled|enabled|updated|toggle|destroy|data|styler)$/.test(options)){var items=inspect(this);var itemsLength=items.length;while(itemsLength--){var item=items[itemsLength];var key=extract(item.className);if(key){if(options=="data"){return hashes[key];}else{if(options=="styler"){return closest(item,"div",hashes[key].className);}else{if(options=="destroy"){tidy(item,key,"Destroyed");}else{operate(item,false,key,options);}if(typeof fire=="function"){fire(item);}}}}}}else{if(typeof options=="object"||!options){process(this,options||{});}}return this;};var lastKey;$(doc).on("click.i "+hover+tap,"label."+labelClass+",div."+divClass,function(event){var self=this;var key=extract(self.className);if(key){var emitter=event.type;var settings=hashes[key];var className=settings.esc;var div=self.tagName=="DIV";var input;var target;var partner;var activate;var states=[["label",settings.activeLabelClass,settings.hoverLabelClass],["div",settings.activeClass,settings.hoverClass]];if(div){states.reverse();}if(emitter==tapStart||emitter==tapEnd){if(!!states[0][1]){toggle(self,states[0][1],emitter==tapStart?1:0);}if(!!settings.mirror&&!!states[1][1]){partner=$(states[1][0]+"."+className);while(partner.length--){toggle(partner[partner.length],states[1][1],emitter==tapStart?1:0);}}if(div&&emitter==tapEnd&&!!settings.tap&&isMobile&&isPointer&&!operaMini){activate=true;}}else{if(emitter==hoverStart||emitter==hoverEnd){if(!!states[0][2]){toggle(self,states[0][2],emitter==hoverStart?1:0);}if(!!settings.mirror&&!!states[1][2]){partner=$(states[1][0]+"."+className);while(partner.length--){toggle(partner[partner.length],states[1][2],emitter==hoverStart?1:0);}}if(div&&emitter==hoverEnd&&!!settings.tap&&isMobile&&isTouch&&!operaMini){activate=true;}}else{if(div){if(!(isMobile&&(isTouch||isPointer))||!!!settings.tap||operaMini){activate=true;}}}}if(activate){setTimeout(function(){target=event.currentTarget||{};if(target.tagName!=="LABEL"){if(!settings.change||(+new Date()-settings.change>100)){input=$(self).find("input."+className).click();if(ie||operaMini){input.change();}}}},2);}}}).on("click.i change.i focusin.i focusout.i keyup.i keydown.i","input."+nodeClass,function(event){var self=this;var key=extract(self.className);if(key){var emitter=event.type;var settings=hashes[key];var className=settings.esc;var parent=emitter=="click"?false:closest(self,"div",settings.className);var label;var states;if(emitter=="click"){hashes[key].change=+new Date();event.stopPropagation();}else{if(emitter=="change"){if(parent&&!self.disabled){operate(self,parent,key,"click");}}else{if(~emitter.indexOf("focus")){states=[settings.focusClass,settings.focusLabelClass];if(!!states[0]&&parent){toggle(parent,states[0],emitter=="focusin"?1:0);}if(!!settings.mirror&&!!states[1]){label=$("label."+className);while(label.length--){toggle(label[label.length],states[1],emitter=="focusin"?1:0);}}}else{if(parent&&!self.disabled){if(emitter=="keyup"){if(self.type=="checkbox"&&event.keyCode==32&&settings.keydown||self.type=="radio"&&!self.checked){operate(self,parent,key,"click",false,true);}hashes[key].keydown=false;hashes[lastKey]&&(hashes[lastKey].keydown=false);}else{lastKey=key;hashes[key].keydown=true;}}}}}}}).ready(function(){if(win.icheck.autoInit){$("."+baseClass).icheck();}if(win.jQuery){var body=doc.body||doc.getElementsByTagName("body")[0];$.ajaxSetup({converters:{"text html":function(data){if(win.icheck.autoAjax&&body){var frame=doc.createElement("iframe");var frameData;if(!ie){frame.style="display:none";}frame.className="iframe.icheck-frame";frame.src="about:blank";body.appendChild(frame);frameData=frame.contentDocument?frame.contentDocument:frame.contentWindow.document;frameData.open();frameData.write(data);frameData.close();body.removeChild(frame);frameData=$(frameData);process(frameData.find("."+baseClass),{},true);frameData=frameData[0];data=(frameData.body||frameData.getElementsByTagName("body")[0]).innerHTML;frameData=null;}return data;}}});}});};if(typeof define=="function"&&define.amd){define("icheck",[win.jQuery?"jquery":"zepto"],win.ichecked);}else{win.ichecked();}}}(window,document));